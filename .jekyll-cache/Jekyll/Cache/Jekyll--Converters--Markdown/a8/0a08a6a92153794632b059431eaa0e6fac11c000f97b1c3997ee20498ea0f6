I"J<p>Wordpress ì—ì„œ Jekyll ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê³¼ì •ì—ì„œ ë°°ìš´ ë‚´ìš©ì„ ì´ 5 í¸ì˜ í¬ìŠ¤íŠ¸ë¡œ ì •ë¦¬í•´ ë³¸ë‹¤.</p>

<ol>
  <li><a href="/work-n-play/ë¸”ë¡œê·¸-í”Œë«í¼-ì´ì „-1-ê°œë°œìë¡œì„œì˜-ìƒˆë¡œìš´-ì‚¶">ê°œë°œìë¡œì„œì˜ ìƒˆë¡œìš´ ì‚¶</a></li>
  <li><a href="/work-n-play/ë¸”ë¡œê·¸-í”Œë«í¼-ì´ì „-2-goodbye-wordpress-hello-jekyll">Goodbye Wordpress, Hello Jekyll</a></li>
  <li><a href="/work-n-play/ë¸”ë¡œê·¸-í”Œë«í¼-ì´ì „-3-publishing">Publishing</a></li>
  <li><em>Build Automation with Gulp</em></li>
  <li><a href="/work-n-play/ë¸”ë¡œê·¸-í”Œë«í¼-ì´ì „-5-disqus-facebook">Disqus &amp; Facebook</a></li>
</ol>

<p>ì§€ë‚œ 2 ì£¼ì¼ ë™ì•ˆ ì¼ì–´ë‚œ ìš°ì—¬ê³¡ì ˆë“¤ì„ ê¸°ì–µì„ ë˜ì‚´ë ¤ ìµœëŒ€í•œ ë³µê¸°í•´ ë‘ì—ˆë‹¤.</p>

<div class="spacer">â€¢ â€¢ â€¢</div>

<h2 id="jekyll-serve">Jekyll Serve</h2>

<p>Jekyll ì€ ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì„œë²„ë¥¼ í¬í•¨í•˜ê³  ìˆë‹¤. ì½˜ì†” ë©”ì‹œì§€ë¥¼ ìì„¸íˆ ë³´ë©´, ë¹Œë“œ ëŒ€ìƒì´ ë˜ëŠ” íŒŒì¼ë“¤ì„ ì»´íŒŒì¼í•˜ì—¬ <code class="highlighter-rouge">public</code> ë””ë ‰í† ë¦¬ì— ì¶œíŒí•˜ê³ , <code class="highlighter-rouge">public</code> ë””ë ‰í† ë¦¬ë¥¼ Document Root ë¡œ í•˜ëŠ” <code class="highlighter-rouge">http://localhost:4000</code> ë¡œì»¬ ì›¹ ì„œë²„ë¥¼ ë„ìš´ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ì„œë²„ë¥¼ ë›°ìš°ì§€ ì•Šê³  ë¹Œë“œë§Œ í•˜ë ¤ë©´, <code class="highlighter-rouge">$ jekyll build</code>. ì˜¤ì˜¤~ ë©‹ì§€ë‹¤~</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>jekyll serve
<span class="c"># Configuration file: /.../blog/_config.yml</span>
<span class="c">#             Source: /.../blog</span>
<span class="c">#        Destination: public</span>
<span class="c">#  Incremental build: disabled. Enable with --incremental</span>
<span class="c">#       Generating...</span>
<span class="c">#                     done in 1.432 seconds.</span>
<span class="c">#  Auto-regeneration: enabled for '/.../blog'</span>
<span class="c"># Configuration file: /.../blog/_config.yml</span>
<span class="c">#     Server address: http://127.0.0.1:4000/</span>
<span class="c">#   Server running... press ctrl-c to stop.</span>
</code></pre></div></div>

<p><a href="/images/2016-02-12-img-01.png"><img src="/images/2016-02-12-img-01.png" alt="Preview with Jekyll built-in web server" /></a></p>

<p>ê·¸ëŸ°ë° 2% ê°€ ë¶€ì¡±í–ˆë‹¤.</p>

<!--more-->

<h2 id="resort-to-gulp">Resort to Gulp</h2>

<p>í”„ë¡œì íŠ¸ ì‹œì‘ë¶€í„° <a href="//gulpjs.com/">Gulp</a> ë¥¼ ì‚¬ìš©í•œ ê²ƒì€ ì•„ë‹ˆì—ˆë‹¤. Jekyll ì´ Sass/SCSS/Coffee ì»´íŒŒì¼ì„ ì§€ì›í•œë‹¤ëŠ” ì‚¬ì‹¤ì´ ì¢‹ì•˜ë‹¤. ê·¸ëŸ°ë°, JS ëŠ” ì–´ë–»í•˜ì§€? ì´ë¯¸ì§€ ìµœì í™”ë‚˜ íŒŒì¼/ë””ë ‰í† ë¦¬ ë³µì‚¬, ë°°í¬ëŠ” ë˜ ì–´ë–»ê²Œ í•´ì•¼ í•˜ì§€? êµ¬ê¸€ë§ì„ í–ˆì§€ë§Œ, ë§ˆìŒì— ë“œëŠ” ë ˆì‹œí”¼ë¥¼ ì°¾ì§€ëŠ” ëª»í•œ ìƒíƒœì˜€ëŠ”ë°â€¦ â€œGulp ë¥¼ ëª» ì“¸ ì´ìœ ëŠ” ì—†ì„ ê²ƒ ê°™ì€ë°?â€ ë¼ê³  ìë¬¸í•˜ê³ , ë°”ë¡œ ì‘ì—…ì— ë“¤ì–´ê°”ë‹¤.</p>

<p>Gulp ìŠ¤í¬ë¦½íŠ¸ êµ¬ë™ì— í•„ìš”í•œ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ë“¤ì€ <code class="highlighter-rouge">package.json</code> ì— ì •ì˜ë˜ì–´ ìˆëŠ”ë°â€¦ ì¢€ ë§ê¸´í•˜ë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"{}"</span> <span class="o">&gt;</span> package.json
<span class="nv">$ </span>npm <span class="nb">install</span> <span class="nt">--save-dev</span> babel-core babel-preset-es2015 browser-sync del gulp gulp-autoprefixer gulp-babel gulp-clean gulp-concat gulp-if gulp-imagemin gulp-load-plugins gulp-minify-css gulp-newer gulp-sass gulp-size gulp-sourcemaps gulp-subtree gulp-uglify run-sequence
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// https://github.com/appkr/blog/blob/master/package.json</span>

<span class="p">{</span>
  <span class="dl">"</span><span class="s2">devDependencies</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">babel-core</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^6.0.15</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">babel-preset-es2015</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^6.0.15</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">browser-sync</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.9.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">del</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.0.2</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^3.9.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-autoprefixer</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^3.1.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-babel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^6.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-clean</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^0.3.1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-concat</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.5.2</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-if</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-imagemin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-load-plugins</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-minify-css</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.1.6</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-newer</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-sass</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-size</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-sourcemaps</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.3.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-subtree</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^0.1.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">gulp-uglify</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.0.1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">run-sequence</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.0.1</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="gulpfilebabeljs">Gulpfile.babel.js</h2>

<p>ì•„ë˜ëŠ” ì „ì²´ ìŠ¤í¬ë¦½íŠ¸ì´ë‹¤. íŠ¹ì§•ì€ <a href="https://browsersync.io/">BrowserSync</a> ì´ìš©í•œë‹¤ëŠ” ì ê³¼, <a href="https://babeljs.io/docs/learn-es2015/">ES2015</a> ì‚¬ìš©í•œë‹¤ëŠ” ì  ë“±ì„ ë“¤ ìˆ˜ ìˆë‹¤.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// https://github.com/appkr/blog/blob/master/gulpfile.babel.js</span>
<span class="c1">// Referenced from Google Web Starter Kit</span>
<span class="c1">// @see https://github.com/google/web-starter-kit</span>

<span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">cp</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">child_process</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">gulp</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">gulp</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">del</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">del</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">runSequence</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">run-sequence</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">browserSync</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">browser-sync</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">gulpLoadPlugins</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">gulp-load-plugins</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">pkg</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./package.json</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">gulpLoadPlugins</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">reload</span> <span class="o">=</span> <span class="nx">browserSync</span><span class="p">.</span><span class="nx">reload</span><span class="p">;</span>

<span class="cm">/**
 * Task 'clean' : Clean output directory
 */</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">clean</span><span class="dl">'</span><span class="p">,</span> <span class="nx">cb</span> <span class="o">=&gt;</span> <span class="nx">del</span><span class="p">([</span><span class="dl">'</span><span class="s1">.tmp</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">images</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">public</span><span class="dl">'</span><span class="p">],</span> <span class="p">{</span><span class="na">dot</span><span class="p">:</span> <span class="kc">true</span><span class="p">}));</span>

<span class="cm">/**
 * Task 'jekyll' : Build jekyll sites
 */</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">jekyll</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">cp</span><span class="p">.</span><span class="nx">spawn</span><span class="p">(</span><span class="dl">'</span><span class="s1">jekyll</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">build</span><span class="dl">'</span><span class="p">],</span> <span class="p">{</span><span class="na">stdio</span><span class="p">:</span> <span class="dl">'</span><span class="s1">inherit</span><span class="dl">'</span><span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">close</span><span class="dl">'</span><span class="p">,</span> <span class="nx">done</span><span class="p">);</span>
<span class="p">});</span>

<span class="cm">/**
 * Task 'images' : Optimize images
 */</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">images</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span>
  <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">_assets/images/**/*.*</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">imagemin</span><span class="p">({</span><span class="na">progressive</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">interlaced</span><span class="p">:</span> <span class="kc">true</span><span class="p">}))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">images</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">size</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">images</span><span class="dl">'</span><span class="p">}))</span>
<span class="p">);</span>

<span class="cm">/**
 * Task 'styles' : Compile and automatically prefix stylesheets
 */</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">AUTOPREFIXER_BROWSERS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="dl">'</span><span class="s1">ie &gt;= 10</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">ie_mob &gt;= 10</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">ff &gt;= 30</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">chrome &gt;= 34</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">safari &gt;= 7</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">opera &gt;= 23</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">ios &gt;= 7</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">android &gt;= 4.4</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">bb &gt;= 10</span><span class="dl">'</span>
  <span class="p">];</span>

  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span>
    <span class="dl">'</span><span class="s1">_assets/styles/main.scss</span><span class="dl">'</span>
  <span class="p">])</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">newer</span><span class="p">(</span><span class="dl">'</span><span class="s1">.tmp/styles</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">sourcemaps</span><span class="p">.</span><span class="nx">init</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">sass</span><span class="p">({</span><span class="na">precision</span><span class="p">:</span> <span class="mi">10</span><span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">$</span><span class="p">.</span><span class="nx">sass</span><span class="p">.</span><span class="nx">logError</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">autoprefixer</span><span class="p">(</span><span class="nx">AUTOPREFIXER_BROWSERS</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">.tmp/styles</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">'</span><span class="s1">main.min.css</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="k">if</span><span class="p">(</span><span class="dl">'</span><span class="s1">*.css</span><span class="dl">'</span><span class="p">,</span> <span class="nx">$</span><span class="p">.</span><span class="nx">minifyCss</span><span class="p">()))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">size</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">}))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">sourcemaps</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">'</span><span class="s1">./</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">));</span>
<span class="p">});</span>

<span class="cm">/**
 * Task 'scripts' : Concatenate and minify JavaScript.
 */</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span>
  <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span>
    <span class="dl">'</span><span class="s1">_assets/vendor/fastclick/lib/fastclick.js</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">_assets/vendor/jquery/dist/jquery.js</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">_assets/vendor/simple-jekyll-search/dest/jekyll-search.js</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">_assets/vendor/bootstrap-sass/assets/javascripts/bootstrap.js</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">_assets/vendor/bootstrap-material-design/scripts/material.js</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">_assets/vendor/bootstrap-material-design/scripts/ripples.js</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">_assets/scripts/main.js</span><span class="dl">'</span>
  <span class="p">])</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">sourcemaps</span><span class="p">.</span><span class="nx">init</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">babel</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">sourcemaps</span><span class="p">.</span><span class="nx">write</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">.tmp/scripts</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">'</span><span class="s1">main.min.js</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">uglify</span><span class="p">({</span><span class="na">preserveComments</span><span class="p">:</span> <span class="dl">'</span><span class="s1">some</span><span class="dl">'</span><span class="p">}))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">size</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">}))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">sourcemaps</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">'</span><span class="s1">.</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">))</span>
<span class="p">);</span>

<span class="cm">/**
 * Task 'serve' : Watch files for changes &amp; reload
 */</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">serve</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">images</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">jekyll</span><span class="dl">'</span><span class="p">],</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">browserSync</span><span class="p">({</span>
    <span class="na">notify</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">logPrefix</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Jekyll</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">server</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">public</span><span class="dl">'</span><span class="p">],</span>
    <span class="na">port</span><span class="p">:</span> <span class="mi">3000</span>
  <span class="p">});</span>

  <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">([</span><span class="dl">'</span><span class="s1">_assets/styles/**/*.{scss,css}</span><span class="dl">'</span><span class="p">],</span> <span class="p">[</span><span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">jekyll</span><span class="dl">'</span><span class="p">,</span> <span class="nx">reload</span><span class="p">]);</span>
  <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">([</span><span class="dl">'</span><span class="s1">_assets/scripts/**/*.js</span><span class="dl">'</span><span class="p">],</span> <span class="p">[</span><span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">jekyll</span><span class="dl">'</span><span class="p">,</span> <span class="nx">reload</span><span class="p">]);</span>
  <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">([</span><span class="dl">'</span><span class="s1">_assets/images/**/*</span><span class="dl">'</span><span class="p">],</span> <span class="p">[</span><span class="dl">'</span><span class="s1">images</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">jekyll</span><span class="dl">'</span><span class="p">,</span> <span class="nx">reload</span><span class="p">]);</span>
  <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">([</span><span class="dl">'</span><span class="s1">**/*.{html,md,markdown}</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">!public/**/*.*</span><span class="dl">'</span><span class="p">],</span> <span class="p">[</span><span class="dl">'</span><span class="s1">jekyll</span><span class="dl">'</span><span class="p">,</span> <span class="nx">reload</span><span class="p">]);</span>
<span class="p">});</span>

<span class="cm">/**
 * Task 'default' : Build production files, the default task
 */</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">default</span><span class="dl">'</span><span class="p">,</span> <span class="p">[],</span> <span class="nx">cb</span> <span class="o">=&gt;</span> <span class="nx">runSequence</span><span class="p">(</span><span class="dl">'</span><span class="s1">styles</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">scripts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">images</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">jekyll</span><span class="dl">'</span><span class="p">,</span> <span class="nx">cb</span><span class="p">));</span>

<span class="cm">/**
 * Task 'deploy' : This will run the build task, then push it to the gh-pages branch
 */</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">deploy</span><span class="dl">'</span><span class="p">,</span> <span class="p">[],</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">cp</span><span class="p">.</span><span class="nx">spawn</span><span class="p">(</span><span class="dl">'</span><span class="s1">sed</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">-i</span><span class="dl">'</span><span class="p">,</span> <span class="dl">"</span><span class="s2">''</span><span class="dl">"</span><span class="p">,</span> <span class="dl">'</span><span class="s1">s/public/#public/</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.gitignore</span><span class="dl">'</span><span class="p">],</span> <span class="p">{</span> <span class="na">stdio</span><span class="p">:</span> <span class="dl">'</span><span class="s1">inherit</span><span class="dl">'</span> <span class="p">});</span>
  <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">public</span><span class="dl">'</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">subtree</span><span class="p">());</span>
  <span class="k">return</span> <span class="nx">cp</span><span class="p">.</span><span class="nx">spawn</span><span class="p">(</span><span class="dl">'</span><span class="s1">git</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">checkout</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.gitignore</span><span class="dl">'</span><span class="p">],</span> <span class="p">{</span> <span class="na">stdio</span><span class="p">:</span> <span class="dl">'</span><span class="s1">inherit</span><span class="dl">'</span> <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="how-to-run">How to Run</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gulp <span class="o">{</span>taskName<span class="o">}</span>
</code></pre></div></div>

<h2 id="tasks">Tasks</h2>

<h3 id="clean">clean</h3>

<p>ë¹Œë“œ ê³¼ì •ì—ì„œ ìƒì„±ëœ ì„ì‹œ ë””ë ‰í† ë¦¬ (<code class="highlighter-rouge">.tmp</code>) ì™€ ë¹Œë“œ ê²°ê³¼ë¥¼ ë‹´ëŠ” ë””ë ‰í† ë¦¬ (<code class="highlighter-rouge">public</code>) ë“±ì„ ì‚­ì œí•˜ê³  ì´ˆê¸°í™”í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gulp clean
</code></pre></div></div>

<h3 id="jekyll">jekyll</h3>

<p><code class="highlighter-rouge">$ jekyll build</code> ë¥¼ ìˆ˜í–‰í•œë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gulp jekyll
</code></pre></div></div>

<h3 id="images">images</h3>

<p><code class="highlighter-rouge">_assets/images</code> ë””ë ‰í† ë¦¬ì— ë‹´ê¸´ ì´ë¯¸ì§€ë¥¼ ìµœì í™”í•˜ì—¬ <code class="highlighter-rouge">images</code> ë””ë ‰í† ë¦¬ë¡œ ì¶œíŒí•œë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gulp images
</code></pre></div></div>

<h3 id="styles">styles</h3>

<p><code class="highlighter-rouge">_assets/styles</code> ì— ìˆëŠ” ëª¨ë“  Stylesheets (css, scss, sass) ì— ëŒ€í•´</p>

<ul>
  <li>Sass/SCSS Compile</li>
  <li>Vendor Prefix</li>
  <li>ëª¨ë“  íŒŒì¼ì„ main.min.css ë¡œ í•©ì¹¨</li>
  <li>Minification</li>
  <li>Source Map ì‘ì„±</li>
</ul>

<p>í•œ í›„, <code class="highlighter-rouge">styles</code> ë””ë ‰í† ë¦¬ë¡œ ì¶œíŒí•œë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gulp styles
</code></pre></div></div>

<h3 id="scripts">scripts</h3>

<p><code class="highlighter-rouge">gulp.src()</code> ì—ì„œ ì¸ìë¡œ ë°›ì€ Javascripts ì— ëŒ€í•´</p>

<ul>
  <li>Babelify (Ecma Script ì—ì„œ Legacy JS ë¡œ ë³€í™˜)</li>
  <li>ëª¨ë“  íŒŒì¼ì„ main.min.js ë¡œ í•©ì¹¨</li>
  <li>Uglify (ë‚œë…í™”, íŒŒì¼ ì‚¬ì´ì¦ˆ ì¶•ì†Œ ëª©ì )</li>
  <li>Source Map ì‘ì„±</li>
</ul>

<p>í•œ í›„, <code class="highlighter-rouge">scripts</code> ë””ë ‰í† ë¦¬ì— ì¶œíŒí•œë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gulp scripts
</code></pre></div></div>

<h3 id="serve">serve</h3>

<p><code class="highlighter-rouge">images</code>, <code class="highlighter-rouge">styles</code>, <code class="highlighter-rouge">scripts</code>, <code class="highlighter-rouge">jekyll</code> Task ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ìˆ˜í–‰í•œ í›„, <code class="highlighter-rouge">http://localhost:3000</code> ì›¹ ì„œë²„ë¥¼ ë„ìš°ê³  BrowserSync ë¥¼ êµ¬ë™ì‹œí‚¨ë‹¤. BrowserSync êµ¬ë™ ì´í›„, <code class="highlighter-rouge">_assets</code> ë””ë ‰í† ë¦¬ í•˜ìœ„ì˜ Stylesheets, Javascripts, Image ë° <code class="highlighter-rouge">.html</code>, <code class="highlighter-rouge">.md</code> íŒŒì¼ì˜ ë³€ê²½ì„ ê°ì‹œí•œë‹¤. íŒŒì¼ ë³€ê²½ì´ ìˆìœ¼ë©´, í˜„ì¬ <code class="highlighter-rouge">http://localhost:3000</code> ì´ ì—´ë ¤ìˆëŠ” ëª¨ë“  ë¸Œë¼ìš°ì €ë¥¼ ë¦¬í”„ë ˆì‹œ í•œë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gulp serve
</code></pre></div></div>

<p><a href="/images/2016-02-12-img-02.png"><img src="/images/2016-02-12-img-02.png" alt="gulp serve" /></a></p>

<h4 id="ë§">ë§</h4>

<p>BrowerSync ë¥¼ ì´ìš©í•˜ë©´, ë™ì¼í•œ ì„œë¸Œë„·ì— ì ‘ì†ë˜ì–´ ìˆëŠ” ëª¨ë°”ì¼ ê¸°ê¸°ë¥¼ í¬í•¨í•œ ë‹¤ë¥¸ Machine ì—ì„œë„ í˜ì´ì§€ì— ì ‘ì†í•  ìˆ˜ ìˆë‹¤. iOS ë””ë°”ì´ìŠ¤ì—ì„œëŠ” Safari ë¸Œë¼ìš°ì €ë¥¼ ì´ìš©í•˜ë©´ <a href="https://developers.google.com/web/tools/chrome-devtools/debug/remote-debugging/remote-debugging#remote-debugging-on-ios-with-safari-web-inspector">ë¦¬ëª¨íŠ¸ ë””ë²„ê¹…</a> ë„ ê°€ëŠ¥í•˜ë‹¤. Android ë””ë°”ì´ìŠ¤ëŠ” ë‹¹ì—°íˆ Chrome Browser ë¥¼ ì´ìš©í•´ ë¦¬ëª¨íŠ¸ ë””ë²„ê¹…í•  ìˆ˜ ìˆë‹¤.</p>

<p><a href="/images/2016-02-12-img-03.png"><img src="/images/2016-02-12-img-03.png" alt="BrowserSync across Multiple Devices" /></a></p>

<p>BrowserSync ì˜ ê³ ìœ ê¸°ëŠ¥ì¸ë°, í˜„ì¬ ì—´ë ¤ìˆëŠ” ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œì˜ í‚¤ë³´ë“œ ì…ë ¥, ìŠ¤í¬ë¡¤ë“±ì€ ë™ê¸°í™”ëœë‹¤. ê°€ë ¹ iOS ë””ë°”ì´ìŠ¤ì—ì„œ í˜ì´ì§€ë¥¼ ìŠ¤í¬ë¡¤í•˜ë©´ ë°ìŠ¤í¬íƒ‘ ë¸Œë¼ìš°ì €ì— ì—´ë ¤ ìˆëŠ” í˜ì´ì§€ë„ ê°™ì´ ìŠ¤í¬ë¡¤ëœë‹¤. ì½”ë“œ ë³€ê²½ì‚¬í•­ ë˜í•œ ëª¨ë“  ë¸Œë¼ìš°ì €ì— ë°˜ì˜ëœë‹¤.</p>

<h3 id="default">default</h3>

<p><code class="highlighter-rouge">images</code>, <code class="highlighter-rouge">styles</code>, <code class="highlighter-rouge">scripts</code>, <code class="highlighter-rouge">jekyll</code> ë¹Œë“œ ì‘ì—…ë§Œ ìˆ˜í–‰í•˜ê³ , ì›¹ ì„œë²„ êµ¬ë™, BrowserSync êµ¬ë™, íŒŒì¼ ê°ì‹œëŠ” í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gulp
</code></pre></div></div>

<h3 id="deploy">deploy</h3>

<p>í˜„ì¬ í”„ë¡œì íŠ¸ë¥¼ <code class="highlighter-rouge">gh-pages</code> ë¸Œëœì¹˜ë¡œ checkout í•œ í›„, <a href="https://pages.github.com/">Github Page</a> ì— ë°°í¬í•œë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gulp deploy
</code></pre></div></div>

<div class="spacer">â€¢ â€¢ â€¢</div>

<p><a href="https://pages.github.com/">Github Page</a> ë¥¼ ì´ìš©í•œ í˜¸ìŠ¤íŒ…ì€ ë¬´ë£Œì´ë‹¤. Github Page ì—ì„œëŠ” ë°±ì—”ë“œ í”Œë«í¼ì„ ì“¸ ìˆ˜ ì—†ê¸°ì—, ì •ì  í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ ì»´íŒŒì¼í•  ìˆ˜ ìˆëŠ” Jekyll ê³¼ ê¶í•©ì´ ì•„ì£¼ ì˜ ë§ë‹¤. ë§ì€ ê°œë°œìë“¤ì´ Github Page + Jekyll ì¡°í•©ìœ¼ë¡œ ì›¹ ì„œë¹„ìŠ¤ë¥¼ í•˜ê³  ìˆë‹¤.</p>
:ET