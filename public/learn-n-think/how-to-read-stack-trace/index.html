<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>

  <meta name="description" content="이번 포스트는 프로그램 실행 중에 만나는 스택 트레이스, 즉 예외 또는 에러 메시지를 읽는 법을 다루려고 합니다. 메모리의 스택 영역에 기록된 프로그램의 실행 이력을 역 추적하기때문에 스택 트레이스, 스택 백트레이스, 스택 트랙백이라 부른다는군요(위키피디아).그림출처: https:..."/>
  <meta name="google-site-verification" content="K08vxFtrUM8f7VcQr6MPRFuI7ub1QHanrPFjsKKPV2s" />
  <meta name="naver-site-verification" content="1154945df3baf6485909c67f4dbc47a19988736d"/>

  <meta name="msapplication-tap-highlight" content="no"/>

  <!-- Facebook Meta -->
  <meta property="og:title" content="스택 트레이스 읽는 법"/>
  <meta property="og:type" content="Website"/>
  <meta property="og:author" content="appkr (juwonkim@me.com)"/>
  <meta property="og:image" content="https://i.stack.imgur.com/HOY4C.png"/>

  <!-- Google+ Meta -->
  <meta itemprop="name" content="스택 트레이스 읽는 법">
  <meta itemprop="description" content="이번 포스트는 프로그램 실행 중에 만나는 스택 트레이스, 즉 예외 또는 에러 메시지를 읽는 법을 다루려고 합니다. 메모리의 스택 영역에 기록된 프로그램의 실행 이력을 역 추적하기때문에 스택 트레이스, 스택 백트레이스, 스택 트랙백이라 부른다는군요(위키피디아).그림출처: https:...">
  <meta itemprop="image" content="https://i.stack.imgur.com/HOY4C.png">
  <meta itemprop="author" content="appkr (juwonkim@me.com)"/>

  <!-- Twitter Meta -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@appkrs" />
  <meta name="twitter:title" content="스택 트레이스 읽는 법" />
  <meta name="twitter:description" content="이번 포스트는 프로그램 실행 중에 만나는 스택 트레이스, 즉 예외 또는 에러 메시지를 읽는 법을 다루려고 합니다. 메모리의 스택 영역에 기록된 프로그램의 실행 이력을 역 추적하기때문에 스택 트레이스, 스택 백트레이스, 스택 트랙백이라 부른다는군요(위키피디아).그림출처: https:..." />
  <meta name="twitter:image" content="https://i.stack.imgur.com/HOY4C.png" />
  <meta name="twitter:domain" content="blog.appkr.dev">

  <!-- Mobile and Rss -->
  <link rel="canonical" href="//blog.appkr.dev/learn-n-think/how-to-read-stack-trace/"/>
  <link rel="alternate" type="application/rss+xml" title="Appkr.memo(new Life)" href="//blog.appkr.dev/feed.xml"/>

  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700"/>
  <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/nanumgothic.css"/>
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons"/>
  <link rel="stylesheet" href="/styles/main.min.css"/>

  <title>스택 트레이스 읽는 법 | Appkr.memo(new Life)</title>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body id="app">

  <nav class="navbar navbar-static-top" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
        <span class="sr-only">Navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">
        Appkr.memo(new Life)
      </a>
    </div>

    <div class="navbar-collapse collapse navbar-responsive-collapse">
      <ul class="nav navbar-nav navbar-right text-center">
        <li>
          <a href="/">Blog</a>
        </li>
        <li>
          <a href="/profile/">Profile</a>
        </li>
      </ul>

      <div id="search_header" class="visible-xs">
        <div class="box-body">
          <form action="#">
            <div class="form-group">
              <input class="form-control input-lg" type="text" id="q_header" placeholder="Search...">
              <ul id="q_header_res"></ul>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</nav>


  <div class="container">
  <section id="main" class="col-md-9 minimal">
    <article class="box">
      <div class="box-header">
        <h2>
          <span class="title">스택 트레이스 읽는 법</span>
          <span class="action dropdown pull-right">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-target="#">
              <i class="material-icons">share</i>
            </a>

            <ul class="dropdown-menu">
              <li>
                <a href="https://www.facebook.com/sharer/sharer.php?u=//blog.appkr.dev/learn-n-think/how-to-read-stack-trace/&title=스택 트레이스 읽는 법" id="sns-facebook">
                  Facebook
                </a>
              </li>
              <li>
                <a href="http://twitter.com/share?url=//blog.appkr.dev/learn-n-think/how-to-read-stack-trace/&title=스택 트레이스 읽는 법&text=스택 트레이스 읽는 법" id="sns-twitter">
                  Twitter
                </a>
              </li>
            </ul>
          </span>
        </h2>

        <p class="box-meta">
          <span>
            <i class="material-icons">today</i>
            2019-03-09
          </span>
          <span>
            <i class="material-icons">face</i>
            Posted by appkr
          </span>
          <span>
            <i class="material-icons">turned_in</i>
            
              <a href="/categories#learn-n-think">
                
                    Learn & Think
                  
              </a>
              
            
          </span>
          <span>
            <i class="material-icons">forum</i>
            <a href="/learn-n-think/how-to-read-stack-trace/#disqus_thread" title="comments">0</a>
          </span>
        </p>
      </div>

      <div class="box-body">
        <p>이번 포스트는 프로그램 실행 중에 만나는 스택 트레이스, 즉 예외 또는 에러 메시지를 읽는 법을 다루려고 합니다. 메모리의 스택 영역에 기록된 프로그램의 실행 이력을 역 추적하기때문에 스택 트레이스, 스택 백트레이스, 스택 트랙백이라 부른다는군요(<a href="https://en.wikipedia.org/wiki/Stack_trace">위키피디아</a>).</p>

<p><a href="https://i.stack.imgur.com/HOY4C.png"><img src="https://i.stack.imgur.com/HOY4C.png" alt="메모리 다이어그램" /></a></p>

<p><small>그림출처: https://i.stack.imgur.com/HOY4C.png</small></p>

<!--more-->
<div class="spacer">• • •</div>

<h2 id="1-실행-흐름">1 실행 흐름</h2>

<p>사전에서 프로그램을 찾아 보면, “진행 계획이나 순서, 또는 그 목록”이라 나옵니다. 연주회, 연극등의 편성표를 프로그램이라 하지요. 즉 순서대로 실행되는 일련의 작업 목록을 프로그램이라고 부릅니다.</p>

<p>그럼, 일반적으로 컴퓨터 프로그램은 어떻게 실행되지는지 살펴볼까요?</p>

<div class="language-php linenos highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="nx">foo</span><span class="p">();</span>

<span class="k">function</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span> 
    <span class="k">echo</span> <span class="s1">'1'</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
    <span class="nx">bar</span><span class="p">();</span>
    <span class="k">echo</span> <span class="s1">'5'</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">bar</span><span class="p">()</span> <span class="p">{</span> 
    <span class="k">echo</span> <span class="s1">'2'</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
    <span class="nx">baz</span><span class="p">();</span>
    <span class="k">echo</span> <span class="s1">'4'</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">baz</span><span class="p">()</span> <span class="p">{</span> 
    <span class="k">echo</span> <span class="s1">'3'</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>실행 결과는 이렇습니다.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>php main.php
1
2
3
4
5
</code></pre></div></div>

<ul>
  <li>3번 줄에서 <code class="highlighter-rouge">foo()</code> 함수를 호출합니다.</li>
  <li>6번 줄에서 “1”을 출력합니다.</li>
  <li>7번 줄에서 <code class="highlighter-rouge">bar()</code> 함수를 호출합니다.</li>
  <li>12번 줄에서 “2”를 출력합니다.</li>
  <li>13번 줄에서 <code class="highlighter-rouge">baz()</code> 함수를 호출합니다.</li>
  <li>18번 줄에서 “3”을 출력합니다.</li>
  <li>14번 줄에서 “4”를 출력합니다.</li>
  <li>8번 줄에서 “5”를 출력합니다.</li>
</ul>

<p>어렵지 않죠?</p>

<h2 id="2-예외-상황">2 예외 상황</h2>

<p><code class="highlighter-rouge">baz()</code> 함수에서 예외를 만들고 결과를 살펴보겠습니다.</p>

<div class="language-php linenos highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="nx">foo</span><span class="p">();</span>

<span class="k">function</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span> 
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">bar</span><span class="p">()</span> <span class="p">{</span> 
    <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">baz</span><span class="p">()</span> <span class="p">{</span> 
    <span class="k">throw</span> <span class="k">new</span> <span class="nx">RuntimeException</span><span class="p">(</span><span class="s1">'런타임 예외가 발생했습니다'</span><span class="p">);</span>
    <span class="k">echo</span> <span class="s1">'이 라인은 출력되지 않습니다'</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>php exception.php
PHP Fatal error:  Uncaught RuntimeException: 런타임 예외가 발생했습니다 <span class="k">in</span> /Users/appkr/workspace/stack-trace/php/exception.php:14
Stack trace:
<span class="c">#0 /Users/appkr/workspace/stack-trace/php/exception.php(10): baz()</span>
<span class="c">#1 /Users/appkr/workspace/stack-trace/php/exception.php(6): bar()</span>
<span class="c">#2 /Users/appkr/workspace/stack-trace/php/exception.php(3): foo()</span>
<span class="c">#3 {main}</span>
  thrown <span class="k">in</span> /Users/appkr/workspace/stack-trace/php/exception.php on line 14
</code></pre></div></div>

<p>스택 트레이스를 하나씩 뜯어 보겠습니다.</p>

<ul>
  <li>첫 줄을 통해 <code class="highlighter-rouge">/Users/appkr/workspace/stack-trace/php/exception.php</code> 파일의 14번 줄에서 <code class="highlighter-rouge">RuntimeException</code>이 발생했고, 메시지는 <code class="highlighter-rouge">런타임 예외가 발생했습니다</code>라는 사실을 알 수 있습니다.</li>
  <li>첫 줄에서 문제의 원인을 알 수 있다면 아래 내용은 읽을 필요가 없습니다.</li>
  <li>총 4 개의 스택 프레임이 잡혔는데, 시간 역순으로 기록되어 있습니다.</li>
  <li><code class="highlighter-rouge">#2 exception.php</code> 3번 줄에서 <code class="highlighter-rouge">foo()</code> 함수를 호출했네요.</li>
  <li><code class="highlighter-rouge">#1 exception.php</code> 6번 줄에서 <code class="highlighter-rouge">bar()</code> 함수를 호출했네요.</li>
  <li><code class="highlighter-rouge">#0 exception.php</code> 10번 줄에서 <code class="highlighter-rouge">baz()</code> 함수를 호출했네요.</li>
</ul>

<p>어떤가요, 1절에서 본 내용과 전혀 다르지 않죠?</p>

<h2 id="3-사용자-정의-예외-및-처리">3 사용자 정의 예외 및 처리</h2>

<p>시스템에서 제공하는 예외를 그대로 사용하기 보다는, 비즈니스에서 사용하는 보편 언어를 사용하여 의미를 담은 예외를 정의하여 던지는 것이 더 좋은 구현이라고 알려져있습니다. 아래 예제처럼요.</p>

<div class="language-php linenos highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">RuntimeException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nx">CustomException</span><span class="p">(</span><span class="s1">'사용자 정의 예외가 발생했습니다'</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">CustomException</span> <span class="k">extends</span> <span class="nx">RuntimeException</span> <span class="p">{}</span>

<span class="k">function</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span> 
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">bar</span><span class="p">()</span> <span class="p">{</span> 
    <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">baz</span><span class="p">()</span> <span class="p">{</span> 
    <span class="k">throw</span> <span class="k">new</span> <span class="nx">RuntimeException</span><span class="p">(</span><span class="s1">'런타임 예외가 발생했습니다'</span><span class="p">);</span>
    <span class="k">echo</span> <span class="s1">'이 라인은 출력되지 않습니다'</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></div></div>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>php custom_exception.php
PHP Fatal error:  Uncaught CustomException: 사용자 정의 예외가 발생했습니다 <span class="k">in</span> /Users/appkr/workspace/stack-trace/php/custom_exception.php:6
Stack trace:
<span class="c">#0 {main}</span>
  thrown <span class="k">in</span> /Users/appkr/workspace/stack-trace/php/custom_exception.php on line 6
</code></pre></div></div>

<p>그런데 위 스택 트레이스는 문제를 일으킨 근본 원인(Root Cause)이 무엇인지 보이지 않는다는 문제가 있습니다.</p>

<p><code class="highlighter-rouge">catch</code> 블록에서 <code class="highlighter-rouge">CustomException</code>을 던질 때, 직전 예외를 생성자에 넣어 주는 것 만으로 쉽게 해결할 수 있습니다.</p>

<div class="language-php linenos highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">RuntimeException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nx">CustomException</span><span class="p">(</span><span class="s1">'사용자 정의 예외가 발생했습니다'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nv">$e</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 생략</span>
</code></pre></div></div>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>php handle_exception.php
PHP Fatal error:  Uncaught RuntimeException: 런타임 예외가 발생했습니다 <span class="k">in</span> /Users/appkr/workspace/stack-trace/php/handle_exception.php:20
Stack trace:
<span class="c">#0 /Users/appkr/workspace/stack-trace/php/handle_exception.php(16): baz()</span>
<span class="c">#1 /Users/appkr/workspace/stack-trace/php/handle_exception.php(12): bar()</span>
<span class="c">#2 /Users/appkr/workspace/stack-trace/php/handle_exception.php(4): foo()</span>
<span class="c">#3 {main}</span>

Next CustomException: 사용자 정의 예외가 발생했습니다 <span class="k">in</span> /Users/appkr/workspace/stack-trace/php/handle_exception.php:6
Stack trace:
<span class="c">#0 {main}</span>
  thrown <span class="k">in</span> /Users/appkr/workspace/stack-trace/php/handle_exception.php on line 6
</code></pre></div></div>

<h2 id="4-현실-세계">4 현실 세계</h2>

<p>현실 세계의 코드는 예제처럼 간단하지는 않습니다. 그럼에도 불구하고 다음 두 가지만 기억하면 디버깅할 때 도움이 됩니다.</p>

<ul>
  <li><strong>첫 줄</strong>을 잘 보라.</li>
  <li>첫 줄에서 힌트를 찾을 수 없을 때는, 전체 스택 트레이스를 따라가면서 <strong>내가 짠 코드</strong>에서 원인을 찾아라.</li>
</ul>

<p>현실 세계의 예제를 한번 볼까요? 라라벨 프레임워크를 사용하는 프로젝트에서 사용자 인증을 위해 JWT 발급했는데, 사용자가 블랙리스트에 등록된 JWT를 제출한 케이스입니다.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>| <span class="nt">---------------------------------------</span><span class="o">&gt;</span> |
| GET /protected_resource                  |
| Authorization: Bearer ey..OE             |
|                                          |
| &lt;<span class="nt">---------------------------------------</span> |
| 401 Unauthorized                         |
| <span class="o">{</span>                                        |
|   <span class="s2">"error"</span>: <span class="s2">"UnauthorizedTokenException"</span>, |
|   <span class="s2">"message"</span>: <span class="s2">"Invalid token, please .."</span>  |
| <span class="o">}</span>                                        |
</code></pre></div></div>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># /var/www/html/storage/logs/laravel.log</span>
<span class="o">[</span>2019-03-09 23:10:02] local.NOTICE: Tymon<span class="se">\J</span>WTAuth<span class="se">\E</span>xceptions<span class="se">\T</span>okenBlacklistedException: The token has been blacklisted <span class="k">in</span> /var/www/html/vendor/tymon/jwt-auth/src/Manager.php:109
Stack trace:
<span class="c">#0 /var/www/html/vendor/tymon/jwt-auth/src/JWT.php(200): Tymon\JWTAuth\Manager-&gt;decode(Object(Tymon\JWTAuth\Token))</span>
<span class="c">#1 /var/www/html/vendor/tymon/jwt-auth/src/JWTAuth.php(64): Tymon\JWTAuth\JWT-&gt;getPayload()</span>
<span class="c">#2 /var/www/html/app/Http/Middleware/JWTAuthenticate.php(61): Tymon\JWTAuth\JWTAuth-&gt;authenticate()</span>
<span class="c">#3 /var/www/html/app/Http/Middleware/JWTAuthenticate.php(26): App\Http\Middleware\JWTAuthenticate-&gt;authenticate(Object(Illuminate\Http\Request))</span>
<span class="c">#4 [internal function]: App\Http\Middleware\JWTAuthenticate-&gt;handle(Object(Illuminate\Http\Request), Object(Closure))</span>
<span class="c">#...</span>
<span class="c">#51 {main}</span>

Next My<span class="se">\D</span>omain<span class="se">\A</span>uth<span class="se">\E</span>xceptions<span class="se">\U</span>nauthorizedTokenException: Invalid token, please sign <span class="k">in </span>again <span class="k">in</span> /var/www/html/app/Http/Middleware/JWTAuthenticate.php:66
Stack trace:
<span class="c">#0 /var/www/html/app/Http/Middleware/JWTAuthenticate.php(26): App\Http\Middleware\JWTAuthenticate-&gt;authenticate(Object(Illuminate\Http\Request))</span>
<span class="c">#...</span>
<span class="c">#48 {main}  {</span>
    <span class="s2">"app_version"</span>: <span class="s2">"UNKNOWN"</span>,
    <span class="s2">"instance_id"</span>: <span class="s2">"acb25dd1a048"</span>,
    <span class="s2">"transaction_id"</span>: <span class="s2">"766ffefe-ac00-47ef-bc68-4cd7553decea"</span>,
    <span class="s2">"trace_number"</span>: 0
<span class="o">}</span>
</code></pre></div></div>

<p>다음의 정보를 얻을 수 있습니다.</p>

<ul>
  <li>사용자가 제출한 JWT 토큰이 블랙리스트되서 발생한 <code class="highlighter-rouge">NOTICE</code> 레벨의 예외.</li>
  <li>블랙리스트 여부를 검사하고 예외를 던진 위치는 <code class="highlighter-rouge">/var/www/html/vendor/tymon/jwt-auth/src/Manager.php</code> 파일의 109 줄.</li>
  <li>예외가 발생시킨 함수는 <code class="highlighter-rouge">Tymon\JWTAuth\Manager::decode()</code>이며, 이 함수를 <code class="highlighter-rouge">/var/www/html/vendor/tymon/jwt-auth/src/JWT.php</code> 200 줄에서 호출.</li>
  <li><code class="highlighter-rouge">My\Domain\Auth\Exceptions\UnauthorizedTokenException</code> 라는 도메인 예외가 발생했고, (핸들링 로직에 따라) 사용자는 “Invalid token, please sign in again”라는 메시지를 담은 JSON 예외 응답을 받았을 것.</li>
</ul>

<!--more-->
<div class="spacer">• • •</div>

<h2 id="5-다른-프로그래밍-언어">5 다른 프로그래밍 언어</h2>

<h3 id="51-java">5.1 Java</h3>

<div class="language-java linenos highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">CustomException</span> <span class="kd">extends</span> <span class="n">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">CustomException</span><span class="o">(</span><span class="n">String</span> <span class="n">message</span><span class="o">,</span> <span class="n">Throwable</span> <span class="n">previous</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">message</span><span class="o">,</span> <span class="n">previous</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">main</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">foo</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">bar</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">bar</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">baz</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">baz</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"런타임 예외가 발생했습니다"</span><span class="o">);</span>
        <span class="c1">// System.out.println("이 라인은 컴파일 오류를 일으킵니다");</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">foo</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">RuntimeException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">CustomException</span><span class="o">(</span><span class="s">"사용자 정의 예외가 발생했습니다"</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>javac main.java <span class="o">&amp;&amp;</span> java main
Exception <span class="k">in </span>thread <span class="s2">"main"</span> CustomException: 사용자 정의 예외가 발생했습니다
    at main.main<span class="o">(</span>main.java:25<span class="o">)</span>
Caused by: java.lang.RuntimeException: 런타임 예외가 발생했습니다
    at main.baz<span class="o">(</span>main.java:17<span class="o">)</span>
    at main.bar<span class="o">(</span>main.java:13<span class="o">)</span>
    at main.foo<span class="o">(</span>main.java:9<span class="o">)</span>
    at main.main<span class="o">(</span>main.java:23<span class="o">)</span>
</code></pre></div></div>

<p>예외의 근본원인을 <code class="highlighter-rouge">Caused by:</code> 로 표시하는 부분을 제외하면 거의 똑같습니다.</p>

<h3 id="52-ruby">5.2 Ruby</h3>

<div class="language-ruby linenos highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">CustomError</span> <span class="o">&lt;</span> <span class="no">RuntimeError</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">foo</span><span class="p">()</span>
    <span class="n">bar</span><span class="p">()</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">bar</span><span class="p">()</span>
    <span class="n">baz</span><span class="p">()</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">baz</span><span class="p">()</span>
    <span class="k">raise</span> <span class="no">RuntimeError</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'런타임 예외가 발생했습니다'</span><span class="p">)</span>
    <span class="nb">p</span> <span class="s1">'이 라인은 출력되지 않습니다'</span>
<span class="k">end</span>

<span class="k">begin</span>
    <span class="n">foo</span><span class="p">()</span>    
<span class="k">rescue</span> 
    <span class="k">raise</span> <span class="no">CustomError</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'사용자 정의 예외가 발생했습니다'</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ruby main.rb
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
  	3: from main.rb:18:in <span class="sb">`</span>&lt;main&gt;<span class="s1">'
  	2: from main.rb:5:in `foo'</span>
  	1: from main.rb:9:in <span class="sb">`</span>bar<span class="s1">'
main.rb:13:in `baz'</span>: 런타임 예외가 발생했습니다 <span class="o">(</span>RuntimeError<span class="o">)</span>
  	1: from main.rb:17:in <span class="sb">`</span>&lt;main&gt;<span class="s1">'
main.rb:20:in `rescue in &lt;main&gt;'</span>: 사용자 정의 예외가 발생했습니다 <span class="o">(</span>CustomError<span class="o">)</span>
</code></pre></div></div>

<p>크게 다르지 않습니다. 다만 시간 역순이 아니라 시간순으로 표현하고 있으며, 예외 메시지를 중간에 찍어 주고 있습니다.</p>

      </div>

      <footer class="box-tags">
        <span><i class="material-icons">label</i> Tags:</span>
        
          <a href="/tags#Programming">
            Programming
          </a>
          
        
      </footer>
    </article>

    <nav id="pagination">
      <ul class="pager">
        
        <li class="previous">
          <a href="/work-n-play/dot-dev-tld/">
            <span aria-hidden="true">
              <i class="material-icons">navigate_before</i>
            </span>
            <span class="pager-title-sm">Older</span>
            <span class="pager-title">
              appkr.dev로 이전합니다
            </span>
          </a>
        </li>
        

        
        <li class="next disabled">
          <a href="#">
            <span>Newer</span>
            <span aria-hidden="true">
              <i class="material-icons">navigate_next</i>
            </span>
          </a>
        </li>
        
      </ul>
    </nav>

    <div class="comments" style="margin-bottom: 30px;">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//appkr.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

  </section>

  <aside id="sidebar" class="col-md-3">
    <section id="search_sidebar" class="box hidden-xs">
  <div class="box-body">
    <form action="#">
      <div class="form-group">
        <input class="form-control input-lg" type="text" id="q_sidebar" placeholder="Search...">
        <ul id="q_sidebar_res"></ul>
      </div>
    </form>
  </div>
</section>

<section class="box" id="categories">
  <div class="box-header">
    <h3>Categories</h3>
  </div>

  <div class="box-body">
    <ul>
      <li>
        <a href="/categories#around-me">
          Around Me
          <span class="badge">25</span>
        </a>
      </li>
      <li>
        <a href="/categories#learn-n-think">
          Learn & Think
          <span class="badge">81</span>
        </a>
      </li>
      <li>
        <a href="/categories#work-n-play">
          Work & Play
          <span class="badge">63</span>
        </a>
      </li>
      <li>
        <a href="/categories#cheatsheet">
          Cheatsheet
          <span class="badge">4</span>
        </a>
      </li>
      <li>
        <a href="/categories#imported">
          Imported
          <span class="badge">3</span>
        </a>
      </li>
      <li>
        <a href="/categories#uncategorized">
          Uncategorized
          <span class="badge">2</span>
        </a>
      </li>
    </ul>
  </div>
</section>

<section class="box" id="tags">
  <div class="box-header">
    <h3>Tags</h3>
  </div>

  <div class="box-body tags">
    <div class="tags">
    
    
    <span style="font-size: 98%">
      <a href="/tags#3d">
        3d
      </a>
    </span>
    
    <span style="font-size: 106%">
      <a href="/tags#API">
        API
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#Apache Thrift">
        Apache Thrift
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#CSS">
        CSS
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#CleanCode">
        CleanCode
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#DDD">
        DDD
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#Database">
        Database
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#DevOps">
        DevOps
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#Docker">
        Docker
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Dotfiles">
        Dotfiles
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#ELK">
        ELK
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Generator">
        Generator
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#Git">
        Git
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#JWT">
        JWT
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Javascript">
        Javascript
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#Jekyll">
        Jekyll
      </a>
    </span>
    
    <span style="font-size: 142%">
      <a href="/tags#Laravel">
        Laravel
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Linux">
        Linux
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Log">
        Log
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Lumen">
        Lumen
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#OOP">
        OOP
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#OS X">
        OS X
      </a>
    </span>
    
    <span style="font-size: 146%">
      <a href="/tags#PHP">
        PHP
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Programming">
        Programming
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#RESTful">
        RESTful
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#RPC">
        RPC
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Refactoring">
        Refactoring
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Ruby">
        Ruby
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Security">
        Security
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Swagger">
        Swagger
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#UML">
        UML
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#URL Rewriting">
        URL Rewriting
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#Web">
        Web
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Websocket">
        Websocket
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#adobe">
        adobe
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#amazon">
        amazon
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#amd">
        amd
      </a>
    </span>
    
    <span style="font-size: 142%">
      <a href="/tags#android">
        android
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#apple">
        apple
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#ar">
        ar
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#architecture">
        architecture
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#arm">
        arm
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#bada">
        bada
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#bluetooth">
        bluetooth
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#bus">
        bus
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#cdp">
        cdp
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#chrome">
        chrome
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#cloud">
        cloud
      </a>
    </span>
    
    <span style="font-size: 114%">
      <a href="/tags#codec">
        codec
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#connectivity">
        connectivity
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#cpu">
        cpu
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#ebook">
        ebook
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#emulator">
        emulator
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#flash">
        flash
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#framework">
        framework
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#gms">
        gms
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#google">
        google
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#gtd">
        gtd
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#intel">
        intel
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#ios">
        ios
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#iphone">
        iphone
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#java">
        java
      </a>
    </span>
    
    <span style="font-size: 106%">
      <a href="/tags#lbs">
        lbs
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#limo">
        limo
      </a>
    </span>
    
    <span style="font-size: 106%">
      <a href="/tags#linux">
        linux
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#mcu">
        mcu
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#memory">
        memory
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#microsoft">
        microsoft
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#mobile">
        mobile
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#opencore">
        opencore
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#opengl">
        opengl
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#opengles">
        opengles
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#opensource">
        opensource
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#openvg">
        openvg
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#platform">
        platform
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#pnd">
        pnd
      </a>
    </span>
    
    <span style="font-size: 106%">
      <a href="/tags#presentation">
        presentation
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#pvcore">
        pvcore
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#se">
        se
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#sns">
        sns
      </a>
    </span>
    
    <span style="font-size: 114%">
      <a href="/tags#soc">
        soc
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#symbian">
        symbian
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#tech">
        tech
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#ted">
        ted
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#tedx">
        tedx
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#windowsmobile">
        windowsmobile
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#wss">
        wss
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#x86">
        x86
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#史記">
        史記
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#孟子">
        孟子
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#孫子兵法">
        孫子兵法
      </a>
    </span>
    
    <span style="font-size: 294%">
      <a href="/tags#개발자">
        개발자
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#경력개발">
        경력개발
      </a>
    </span>
    
    <span style="font-size: 138%">
      <a href="/tags#기업철학">
        기업철학
      </a>
    </span>
    
    <span style="font-size: 174%">
      <a href="/tags#기획자">
        기획자
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#데이터베이스">
        데이터베이스
      </a>
    </span>
    
    <span style="font-size: 146%">
      <a href="/tags#리더쉽">
        리더쉽
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#생산성">
        생산성
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#소프트웨어공학">
        소프트웨어공학
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#수학">
        수학
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#아키텍처">
        아키텍처
      </a>
    </span>
    
    <span style="font-size: 210%">
      <a href="/tags#인생철학">
        인생철학
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#자녀교육">
        자녀교육
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#전략">
        전략
      </a>
    </span>
    
    <span style="font-size: 146%">
      <a href="/tags#조직관리">
        조직관리
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#조직문화">
        조직문화
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#조직행동">
        조직행동
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#철학">
        철학
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#취미">
        취미
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#특기">
        특기
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#프로세스">
        프로세스
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#프로젝트관리">
        프로젝트관리
      </a>
    </span>
    
    </div>
  </div>
</section>

<section class="box" id="recent-posts">
  <div class="box-header">
    <h3>Recent Posts</h3>
  </div>

  <div class="box-body">
    <ul>
      
      <li>
        <h4>
          <small class="box-meta"><i class="material-icons">today</i> 2019-03-09</small>
          <a href="/learn-n-think/how-to-read-stack-trace/">스택 트레이스 읽는 법</a>
        </h4>
      </li>
      
      <li>
        <h4>
          <small class="box-meta"><i class="material-icons">today</i> 2019-03-02</small>
          <a href="/work-n-play/dot-dev-tld/">appkr.dev로 이전합니다</a>
        </h4>
      </li>
      
      <li>
        <h4>
          <small class="box-meta"><i class="material-icons">today</i> 2019-02-08</small>
          <a href="/work-n-play/how-to-use-value-object-in-laravel-eloquent-part-2/">라라벨의 엘로퀀트 ORM에서 값 객체 사용하기 2부</a>
        </h4>
      </li>
      
    </ul>
  </div>
</section>

<section class="box" id="recent-comments">
  <div class="box-header">
    <h3>Recent Comments</h3>
  </div>

  <div class="box-body dsq-widget">
    <script type="text/javascript" src="//appkr.disqus.com/recent_comments_widget.js?num_items=5&hide_mods=0&hide_avatars=0&avatar_size=32&excerpt_length=100"></script>
  </div>
</section>

<section class="box" id="recent-feeds">
  <div class="box-header">
    <h3>Facebook Posts</h3>
  </div>

  <div class="box-body">
    <ul id="facebook-feed">
      <script id="facebook-feed-template" type="text/x-template">
        <li>
          <span class="facebook-message">
            { message }
          </span>
          ·
          <span class="facebook-meta">
            <a href="https://www.facebook.com/juwonkimatmedotcom/posts/{ id }">
              { created_time }
            </a>
          </span>
        </li>
      </script>
    </ul>
  </div>
</section>

<section class="box" id="gist-lists">
  <div class="box-header">
    <h3>Github Gist</h3>
  </div>

  <div class="box-body">
    <ul id="gist-list">
      <script id="gist-list-template" type="text/x-template">
        <li>
          <span class="facebook-message">
            { message }
          </span>
          ·
          <span class="facebook-meta">
            <a href="https://gist.github.com/{ id }">
              { created_time }
            </a>
          </span>
        </li>
      </script>
    </ul>
  </div>
</section>

  </aside>
</div>


  <footer id="site-footer">
  <h4>
    <a href="/">
      Appkr.memo(new Life)
    </a>
  </h4>
  <p>
    &copy; 2008~2019 •
    Built with <a href="http://jekyllrb.com/">Jekyll</a> •
    Hosted by <a href="https://pages.github.com/">Github</a> •
    <a href="/feed.xml">Rss</a>
  </p>
</footer>


  <div id="back-to-top">
    <a href="#" title="Scroll to Top">
      <i class="material-icons">keyboard_arrow_up</i>
    </a>
  </div>

  <script src="/scripts/main.min.js"></script>
</body>

</html>
