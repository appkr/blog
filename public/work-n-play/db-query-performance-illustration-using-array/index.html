<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>

  <meta name="description" content="많은 양의 데이터를 체계적으로 저장하기 위해 데이터베이스를 사용합니다. 필요할 때마다 빠르게 꺼내 보거나, 수정하고, 불필요해지면 삭제하기도 합니다. 이처럼 데이터베이스는 수 많은 레코드셋에서 원하는 레코드만 빠르게 추출해 낼 수 있는데, 내부에서 어떻게 작동하는 지는 완전 블랙박..."/>
  <meta name="google-site-verification" content="ToXKBimREnz49pDNot4b-N9ZJgYcKXPPsHsjhg4Zzuc" />
  <meta name="naver-site-verification" content="7cebcc8e5493169f5401870d9ce57f48d18491cd"/>

  <meta name="msapplication-tap-highlight" content="no"/>

  <!-- Facebook Meta -->
  <meta property="og:title" content="데이터베이스 쿼리 성능 차이를 이해하기 위한 실험"/>
  <meta property="og:type" content="Website"/>
  <meta property="og:author" content="appkr (juwonkim@me.com)"/>
  <meta property="og:image" content="http://blog.appkr.kr/images/2017-02-11-img-02.png"/>

  <!-- Google+ Meta -->
  <meta itemprop="name" content="데이터베이스 쿼리 성능 차이를 이해하기 위한 실험">
  <meta itemprop="description" content="많은 양의 데이터를 체계적으로 저장하기 위해 데이터베이스를 사용합니다. 필요할 때마다 빠르게 꺼내 보거나, 수정하고, 불필요해지면 삭제하기도 합니다. 이처럼 데이터베이스는 수 많은 레코드셋에서 원하는 레코드만 빠르게 추출해 낼 수 있는데, 내부에서 어떻게 작동하는 지는 완전 블랙박...">
  <meta itemprop="image" content="http://blog.appkr.kr/images/2017-02-11-img-02.png">
  <meta itemprop="author" content="appkr (juwonkim@me.com)"/>

  <!-- Twitter Meta -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@appkrs" />
  <meta name="twitter:title" content="데이터베이스 쿼리 성능 차이를 이해하기 위한 실험" />
  <meta name="twitter:description" content="많은 양의 데이터를 체계적으로 저장하기 위해 데이터베이스를 사용합니다. 필요할 때마다 빠르게 꺼내 보거나, 수정하고, 불필요해지면 삭제하기도 합니다. 이처럼 데이터베이스는 수 많은 레코드셋에서 원하는 레코드만 빠르게 추출해 낼 수 있는데, 내부에서 어떻게 작동하는 지는 완전 블랙박..." />
  <meta name="twitter:image" content="http://blog.appkr.kr/images/2017-02-11-img-02.png" />
  <meta name="twitter:domain" content="blog.appkr.kr">

  <!-- Mobile and Rss -->
  <link rel="canonical" href="http://blog.appkr.kr/work-n-play/db-query-performance-illustration-using-array/"/>
  <link rel="alternate" type="application/rss+xml" title="Appkr.memo(new Life)" href="http://blog.appkr.kr/feed.xml"/>

  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700"/>
  <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/nanumgothic.css"/>
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons"/>
  <link rel="stylesheet" href="/styles/main.min.css"/>

  <title>데이터베이스 쿼리 성능 차이를 이해하기 위한 실험 | Appkr.memo(new Life)</title>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body id="app">

  <nav class="navbar navbar-static-top" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
        <span class="sr-only">Navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">
        Appkr.memo(new Life)
      </a>
    </div>

    <div class="navbar-collapse collapse navbar-responsive-collapse">
      <ul class="nav navbar-nav navbar-right text-center">
        <li class="active"><a href="/">Blog</a></li>
        <!--<li><a href="/guest-book/">Guest Book</a></li>-->
        <li><a href="/profile/">Profile</a></li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
  <section id="main" class="col-md-9 minimal">
    <article class="box">
      <div class="box-header">
        <h2>
          <span class="title">데이터베이스 쿼리 성능 차이를 이해하기 위한 실험</span>
          <span class="action dropdown pull-right">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-target="#">
              <i class="material-icons">share</i>
            </a>

            <ul class="dropdown-menu">
              <li>
                <a href="https://www.facebook.com/sharer/sharer.php?u=http://blog.appkr.kr/work-n-play/db-query-performance-illustration-using-array/&title=데이터베이스 쿼리 성능 차이를 이해하기 위한 실험" id="sns-facebook">
                  Facebook
                </a>
              </li>
              <li>
                <a href="http://twitter.com/share?url=http://blog.appkr.kr/work-n-play/db-query-performance-illustration-using-array/&title=데이터베이스 쿼리 성능 차이를 이해하기 위한 실험&text=데이터베이스 쿼리 성능 차이를 이해하기 위한 실험" id="sns-twitter">
                  Twitter
                </a>
              </li>
              <li>
                <a href="https://plus.google.com/share?url=http://blog.appkr.kr/work-n-play/db-query-performance-illustration-using-array/" id="sns-google">
                  Google+
                </a>
              </li>
            </ul>
          </span>
        </h2>

        <p class="box-meta">
          <span>
            <i class="material-icons">today</i>
            2017-02-11
          </span>
          <span>
            <i class="material-icons">face</i>
            Posted by appkr
          </span>
          <span>
            <i class="material-icons">turned_in</i>
            
              <a href="/categories#work-n-play">
                
                    Work & Play
                  
              </a>
              
            
          </span>
          <span>
            <i class="material-icons">forum</i>
            <a href="/work-n-play/db-query-performance-illustration-using-array/#disqus_thread" title="comments">0</a>
          </span>
        </p>
      </div>

      <div class="box-body">
        <p>많은 양의 데이터를 체계적으로 저장하기 위해 데이터베이스를 사용합니다. 필요할 때마다 빠르게 꺼내 보거나, 수정하고, 불필요해지면 삭제하기도 합니다. 이처럼 데이터베이스는 수 많은 레코드셋에서 원하는 레코드만 빠르게 추출해 낼 수 있는데, <strong>내부에서 어떻게 작동하는 지는 완전 블랙박스</strong>죠?</p>

<p>가령 ‘인덱스를 걸면 빠르다’, ‘조인은 느리다’처럼 일반적으로 알려진 상식이 있고, 이런 상식에 따라 모델링을 하면 대체적으로 잘 돌아가지만…</p>

<p>최근 회사에서 관련된 일도 있었고 해서, 스물스물 호기심이 발동하기 시작했습니다.</p>

<p><a href="https://github.com/mysql/mysql-server">MySQL은 소스코드가 깃허브에 완전 공개</a>되어있어 블랙박스라 할 수는 없지만, 죽을 때까지 코드를 까볼 생각은 없습니다. 대신 <strong>간단한 배열을 이용해서 데이터베이스를 흉내내고, 기본 키(Primary Key), 문자열 컬럼에 대한 풀 스캔, 바이너리 스캔, 인덱스, 조인 등에서 성능 차이가 발생하는 이유를 추측해보기</strong>로 했습니다.</p>

<p>이 실험을 위한 소스코드는 <a href="https://github.com/appkr/db-performance-illustration">이곳에서 다운로드</a> 받을 수 있습니다.</p>

<!--more-->
<div class="spacer">• • •</div>

<h2 id="1-실험-도구">1. 실험 도구</h2>

<p>웹 브라우저를 이용해서 각 실험 시나리오를 수행하고 화면에 결과를 출력하는 간단한 실험 도구를 만들어 봤습니다.</p>

<p><a href="/images/2017-02-11-img-02.png"><img src="/images/2017-02-11-img-02.png" alt="테스트 러너" /></a></p>

<p>다음과 같은 폴더로 구성했습니다.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>.
├── app             <span class="c"># 모델(PHP Class)입니다.</span>
│   │               <span class="c"># PSR4 오토로드를 이용합니다. </span>
│   ├── Model.php
│   ├── Team.php
│   └── User.php
├── data            <span class="c"># 실험에 사용할 데이터를 생성합니다 (모델 인스턴스들로 구성된 배열).</span>
│   │               <span class="c"># 테스트 러너에서 파일을 임포트합니다.</span>
│   ├── index.php
│   ├── teams.php
│   └── users.php
├── scenario        <span class="c"># 테스트 시나리오입니다.</span>
│   │               <span class="c"># 테스트 러너에서 파일을 임포트합니다.</span>
│   ├── binary.php
│   ├── fullscan.php
│   ├── indexed.php
│   ├── join.php
│   └── primary.php
└── index.php       <span class="c"># 테스트 러너입니다.</span>
</code></pre>
</div>

<p>테스트 러너(<code class="highlighter-rouge">index.php</code>)는</p>

<ul>
  <li>필요한 데이터를 생성하여 메모리에 로드하고</li>
  <li>테스터와 인터랙션하기 위한 간단한 라우팅과</li>
  <li>사용자가 선택한 시나리오를 수행한 후</li>
  <li>결과를 계산하고 출력하는</li>
</ul>

<p>총 네 개의 모듈로 구성되어 있습니다.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span> <span class="c1">// index.php
</span>
<span class="c1">// 오토로드
</span><span class="k">require</span><span class="p">(</span><span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/vendor/autoload.php'</span><span class="p">);</span>

<span class="c1">// 허용 메모리 키우고, 테스트 데이터 생성
</span><span class="nb">ini_set</span><span class="p">(</span><span class="s1">'memory_limit'</span><span class="p">,</span> <span class="s1">'512M'</span><span class="p">);</span>
<span class="nv">$teams</span> <span class="o">=</span> <span class="k">require</span><span class="p">(</span><span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/data/teams.php'</span><span class="p">);</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="k">require</span><span class="p">(</span><span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/data/users.php'</span><span class="p">);</span>
<span class="nv">$userIndex</span> <span class="o">=</span> <span class="k">require</span><span class="p">(</span><span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/data/index.php'</span><span class="p">);</span>

<span class="c1">// 타이머 시작
</span><span class="nb">define</span><span class="p">(</span><span class="s1">'START'</span><span class="p">,</span> <span class="nb">microtime</span><span class="p">(</span><span class="kc">true</span><span class="p">));</span>

<span class="c1">// 변수 초기화
</span><span class="nv">$uri</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'REQUEST_URI'</span><span class="p">]</span> <span class="o">??</span> <span class="kc">null</span><span class="p">;</span>
<span class="nv">$scenario</span> <span class="o">=</span> <span class="nb">trim</span><span class="p">(</span><span class="nb">parse_url</span><span class="p">(</span><span class="nv">$uri</span><span class="p">)[</span><span class="s1">'path'</span><span class="p">],</span> <span class="s1">'/'</span><span class="p">);</span>
<span class="nv">$allowed</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'primary'</span><span class="p">,</span>
    <span class="s1">'fullscan'</span><span class="p">,</span>
    <span class="s1">'binary'</span><span class="p">,</span>
    <span class="s1">'indexed'</span><span class="p">,</span>
    <span class="s1">'join'</span><span class="p">,</span>
<span class="p">];</span>

<span class="c1">// 유효성 검사
</span><span class="k">if</span> <span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$scenario</span><span class="p">,</span> <span class="nv">$allowed</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span><span class="s1">'정의되지 않은 시나리오입니다.'</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 테스트 수행
</span><span class="nv">$found</span> <span class="o">=</span> <span class="k">require</span><span class="p">(</span><span class="nx">__DIR__</span> <span class="o">.</span> <span class="s2">"/scenario/</span><span class="si">{</span><span class="nv">$scenario</span><span class="si">}</span><span class="s2">.php"</span><span class="p">);</span>

<span class="c1">// 결과 계산
</span><span class="nv">$result</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'처리시간(ms)'</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nb">microtime</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="o">-</span> <span class="nx">START</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s1">'메모리(MB)'</span> <span class="o">=&gt;</span>  <span class="nb">memory_get_usage</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000000</span><span class="p">,</span>
    <span class="s1">'CPU(%)'</span> <span class="o">=&gt;</span> <span class="nb">sys_getloadavg</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
    <span class="s1">'found'</span> <span class="o">=&gt;</span> <span class="nv">$found</span><span class="p">,</span>
<span class="p">];</span>

<span class="c1">// 결과 출력
</span><span class="nb">header</span><span class="p">(</span><span class="s1">'Content-Type: application/json;charset=utf-8'</span><span class="p">);</span>
<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="nx">JSON_PRETTY_PRINT</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="2-실험-데이터-생성">2. 실험 데이터 생성</h2>

<p><code class="highlighter-rouge">App\Team</code> , <code class="highlighter-rouge">App\User</code> 모델은 POPO(Plain Old PHP Object)이라 설명을 생략했으니, 소스코드를 살펴보시기 바랍니다.</p>

<h3 id="21-teams-배열">2.1. <code class="highlighter-rouge">$teams</code> 배열</h3>

<p>인덱스나 조인할 때 사용할 데이터입니다. 총 네 개를 만들었습니다.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span> <span class="c1">// data/teams.php
</span>
<span class="k">use</span> <span class="nx">App\Team</span><span class="p">;</span>

<span class="k">return</span> <span class="p">[</span>
    <span class="k">new</span> <span class="nx">Team</span><span class="p">([</span>
        <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'청팀'</span><span class="p">,</span>
        <span class="s1">'since'</span> <span class="o">=&gt;</span> <span class="mi">1970</span><span class="p">,</span>
        <span class="s1">'subscription'</span> <span class="o">=&gt;</span> <span class="s1">'monthly'</span>
    <span class="p">]),</span>
    <span class="k">new</span> <span class="nx">Team</span><span class="p">([</span><span class="o">...</span><span class="p">]),</span>
    <span class="k">new</span> <span class="nx">Team</span><span class="p">([</span><span class="o">...</span><span class="p">]),</span>
    <span class="k">new</span> <span class="nx">Team</span><span class="p">([</span>
        <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'흑팀'</span><span class="p">,</span>
        <span class="s1">'since'</span> <span class="o">=&gt;</span> <span class="mi">2000</span><span class="p">,</span>
        <span class="s1">'subscription'</span> <span class="o">=&gt;</span> <span class="s1">'forever'</span>
    <span class="p">]),</span>
<span class="p">];</span>
</code></pre>
</div>

<h3 id="22-users-배열">2.2. <code class="highlighter-rouge">$users</code> 배열</h3>

<p><code class="highlighter-rouge">User</code> 인스턴스 만 개를 담은 배열입니다. <code class="highlighter-rouge">Faker</code> 라이브러리와 같이 동작해서 매번 테스트 시나리오를 수행할 때마다 지난 번과 다른 일 만 개의 <code class="highlighter-rouge">User</code> 인스턴스를 담은 배열을 새로 만듭니다. 각 인스턴스는 <code class="highlighter-rouge">Team</code> 모델에 <code class="highlighter-rouge">team_id</code>라는 속성으로 연결되어 있습니다.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span> <span class="c1">// data/users.php
</span>
<span class="k">use</span> <span class="nx">App\User</span><span class="p">;</span>

<span class="nv">$faker</span> <span class="o">=</span> <span class="nx">\Faker\Factory</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">'ko_KR'</span><span class="p">);</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="p">[];</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$id</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$team</span> <span class="o">=</span> <span class="nv">$faker</span><span class="o">-&gt;</span><span class="na">randomElement</span><span class="p">(</span><span class="nv">$teams</span><span class="p">);</span>

    <span class="nv">$users</span><span class="p">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">User</span><span class="p">([</span>
        <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="nv">$id</span><span class="p">,</span>
        <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">{</span><span class="nv">$faker</span><span class="o">-&gt;</span><span class="na">name</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="nv">$id</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
        <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="nv">$faker</span><span class="o">-&gt;</span><span class="na">safeEmail</span><span class="p">,</span>
        <span class="s1">'team_id'</span> <span class="o">=&gt;</span> <span class="nv">$team</span><span class="o">-&gt;</span><span class="na">id</span>
    <span class="p">]);</span>
<span class="p">}</span>

<span class="k">return</span> <span class="nv">$users</span><span class="p">;</span>
</code></pre>
</div>

<h3 id="23-userindex-배열">2.3. <code class="highlighter-rouge">$userIndex</code> 배열</h3>

<p>필자는 인덱스를 일종의 그룹핑이라고 생각했습니다. 가령 만 개의 <code class="highlighter-rouge">User</code> 인스턴스로 구성된 레코드셋을 총 네 개의 <code class="highlighter-rouge">Team</code>으로 구분할 수 있다면, 풀스캔의 대상은 1/4로 줄어들기 때문입니다. 정식으로 공부해 본 적이 없는 데알못인데, 개발자의 촉으로 <code class="highlighter-rouge">users.team_id</code> 컬럼에 인덱스를 건다면, 1:(1,2,..), 2:(3,7,..), team_id:(users.id 리스트) 식으로 어딘가에 저장해 놓고, 쿼리 시점에 저장된 맵(인덱스)를 먼저 탐색하지 않을까 싶습니다.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span> <span class="c1">// data/index.php
</span>
<span class="nv">$userIndex</span> <span class="o">=</span> <span class="p">[];</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$users</span> <span class="k">as</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$userIndex</span><span class="p">[</span><span class="nv">$user</span><span class="o">-&gt;</span><span class="na">team_id</span><span class="p">][]</span> <span class="o">=</span> <span class="nv">$user</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">return</span> <span class="nv">$userIndex</span><span class="p">;</span>
</code></pre>
</div>

<p><strong><code class="highlighter-rouge">참고</code></strong> 이 코드에서 <code class="highlighter-rouge">foreach</code>를 사용하는 것이 <code class="highlighter-rouge">array_map</code>을 사용하는 것 보다 더 빨랐습니다.</p>

<h2 id="3-시나리오">3. 시나리오</h2>

<p>1 절의 테스트 러너에서 봤듯이 데이터 생성이 끝난 후 타이머를 시작하고, 테스터가 선택한 시나리오를 수행합니다.</p>

<p>이하 모든 실험 환경은 필자의 맥북 프로기준이며, PHP 7.1(xdebug on, opcache off)과 <a href="https://laravel.kr/docs/valet">라라벨 Valet 서버</a>를 이용했습니다.</p>

<h3 id="31-primary-시나리오">3.1. <code class="highlighter-rouge">primary</code> 시나리오</h3>

<p>데이터베이스의 기본 키 쿼리를 흉내냅니다. 필자는 배열의 인덱스를 바로 접근하는 것과 비슷하다고 생각하고 다음과 같이 시나리오 코드를 구성했습니다.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span> <span class="c1">// scenario/primary.php
</span>
<span class="k">return</span> <span class="nv">$users</span><span class="p">[</span><span class="mi">9999</span><span class="p">];</span>
</code></pre>
</div>

<p>총 5회 실험하고, 처리시간 기준으로 아웃라이어 2개는 버렸습니다.</p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="err">GET /primary
</span></code></pre>
</div>

<table>
  <thead>
    <tr>
      <th>구분</th>
      <th style="text-align: right">처리시간(ms)</th>
      <th style="text-align: right">메모리(MB)</th>
      <th style="text-align: right">CPU(%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td style="text-align: right">1.645088196</td>
      <td style="text-align: right">5.5276</td>
      <td style="text-align: right">1.685058594</td>
    </tr>
    <tr>
      <td>2</td>
      <td style="text-align: right">1.547813416</td>
      <td style="text-align: right">5.528152</td>
      <td style="text-align: right">1.797851563</td>
    </tr>
    <tr>
      <td>3</td>
      <td style="text-align: right">1.681804657</td>
      <td style="text-align: right">5.527568</td>
      <td style="text-align: right">1.865722656</td>
    </tr>
    <tr>
      <td>평균</td>
      <td style="text-align: right">1.624902089</td>
      <td style="text-align: right">5.527773333</td>
      <td style="text-align: right">1.782877604</td>
    </tr>
  </tbody>
</table>

<h3 id="32-fullscan-시나리오">3.2. <code class="highlighter-rouge">fullscan</code> 시나리오</h3>

<p>문자열 컬럼을 풀스캔하는 쿼리를 흉내냅니다.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span> <span class="c1">// scenario/fullscan.php
</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$users</span> <span class="k">as</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$user</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">,</span> <span class="s1">'_9999'</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$user</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">return</span> <span class="k">new</span> <span class="nx">\App\User</span><span class="p">;</span>
</code></pre>
</div>

<p>총 5회 실험하고, 처리시간 기준으로 아웃라이어 2개는 버렸습니다.</p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="err">GET /fullscan
</span></code></pre>
</div>

<table>
  <thead>
    <tr>
      <th>구분</th>
      <th style="text-align: right">처리시간(ms)</th>
      <th style="text-align: right">메모리(MB)</th>
      <th style="text-align: right">CPU(%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td style="text-align: right">9.595155716</td>
      <td style="text-align: right">5.528248</td>
      <td style="text-align: right">2.473632813</td>
    </tr>
    <tr>
      <td>2</td>
      <td style="text-align: right">9.42492485</td>
      <td style="text-align: right">5.527952</td>
      <td style="text-align: right">2.122070313</td>
    </tr>
    <tr>
      <td>3</td>
      <td style="text-align: right">12.29596138</td>
      <td style="text-align: right">5.527776</td>
      <td style="text-align: right">2.5234375</td>
    </tr>
    <tr>
      <td>평균</td>
      <td style="text-align: right">10.43868065</td>
      <td style="text-align: right">5.527992</td>
      <td style="text-align: right">2.373046875</td>
    </tr>
  </tbody>
</table>

<h3 id="33-indexed-시나리오">3.3. <code class="highlighter-rouge">indexed</code> 시나리오</h3>

<p>인덱스된 컬럼을 쿼리하는 시나리오입니다. ‘흑팀’에서 사용자 이름이 _9999로 끝나는 레코드를 찾는데, 앞서 말했듯이 매번 만 개의 테스트 데이터를 생성하기 때문에, _9999 사용자가 ‘흑팀’이 아닐 수도 있어서, 빈 레코드를 반환할 수도 있습니다. 빈 레코드가 반환될 때는 ‘흑팀’에 해당하는 대략 2500개의 레코드를 끝까지 스캔하기 때문에 미미하지만 시간이 더 오래 걸릴 수 있습니다.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span> <span class="c1">// scenario/indexed.php
</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$userIndex</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="k">as</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$user</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">,</span> <span class="s1">'_9999'</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$user</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">return</span> <span class="k">new</span> <span class="nx">\App\User</span><span class="p">;</span>
</code></pre>
</div>

<p>총 5회 실험하고, 처리시간 기준으로 아웃라이어 2개는 버렸습니다.</p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="err">GET /indexed.php
</span></code></pre>
</div>

<table>
  <thead>
    <tr>
      <th>구분</th>
      <th style="text-align: right">처리시간(ms)</th>
      <th style="text-align: right">메모리(MB)</th>
      <th style="text-align: right">CPU(%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td style="text-align: right">3.381967545</td>
      <td style="text-align: right">5.5282</td>
      <td style="text-align: right">1.997558594</td>
    </tr>
    <tr>
      <td>2</td>
      <td style="text-align: right">4.05216217</td>
      <td style="text-align: right">5.528056</td>
      <td style="text-align: right">1.793457031</td>
    </tr>
    <tr>
      <td>3</td>
      <td style="text-align: right">3.484964371</td>
      <td style="text-align: right">5.52896</td>
      <td style="text-align: right">1.578613281</td>
    </tr>
    <tr>
      <td>평균</td>
      <td style="text-align: right">3.639698029</td>
      <td style="text-align: right">5.528405333</td>
      <td style="text-align: right">1.789876302</td>
    </tr>
  </tbody>
</table>

<h3 id="34-join-시나리오">3.4. <code class="highlighter-rouge">join</code> 시나리오</h3>

<p><del><code class="highlighter-rouge">users</code> 테이블과 <code class="highlighter-rouge">teams</code> 테이블간의 조인 쿼리를 흉내냅니다. 휙 봐도 반복문이 두 번 등장하고, <code class="highlighter-rouge">$joined</code>라는 만 개의 원소를 담고 있는 새로운 배열이 메모리 공간에 생기게 되므로, 당연히 테이블 한 개보다 처리에 오랜 시간이 걸릴 수 밖에 없을 겁니다.</del></p>

<p><del>게다가 우리 시나리오의 경우, 찾고자 하는 값이 배열 맨 끝에 위치하고 있어 총 2 만번의 루프가 발생하고 있습니다.</del></p>

<p><code class="highlighter-rouge">@huhushow</code>님의 가르침으로 검색을 먼저하고 맵핑하는 로직으로 변경했습니다. 배열 순회 회수는 풀스캔과 같고, 찾은 사용자가 속한 <code class="highlighter-rouge">Team</code>을 찾아 머지하는 로직만 추가 되었으므로 풀스캔 대비 성능 차이는 거의 없었습니다.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span> <span class="c1">// scenario/join.php
</span>
<span class="nv">$found</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$users</span> <span class="k">as</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$user</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">,</span> <span class="s1">'_9999'</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$found</span> <span class="o">=</span> <span class="nv">$user</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$found</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$team</span> <span class="o">=</span> <span class="nv">$teams</span><span class="p">[</span><span class="nv">$found</span><span class="o">-&gt;</span><span class="na">team_id</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
    <span class="nv">$found</span><span class="o">-&gt;</span><span class="na">team_name</span> <span class="o">=</span> <span class="nv">$team</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
    <span class="nv">$found</span><span class="o">-&gt;</span><span class="na">team_since</span> <span class="o">=</span> <span class="nv">$team</span><span class="o">-&gt;</span><span class="na">since</span><span class="p">;</span>
    <span class="nv">$found</span><span class="o">-&gt;</span><span class="na">team_subscription</span> <span class="o">=</span> <span class="nv">$team</span><span class="o">-&gt;</span><span class="na">subscription</span><span class="p">;</span>

    <span class="k">return</span> <span class="nv">$found</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">return</span> <span class="k">new</span> <span class="nx">\App\User</span><span class="p">;</span>
</code></pre>
</div>

<p>총 5회 실험하고, 처리시간 기준으로 아웃라이어 2개는 버렸습니다.</p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="err">GET /join.php
</span></code></pre>
</div>

<table>
  <thead>
    <tr>
      <th>구분</th>
      <th style="text-align: right">처리시간(ms)</th>
      <th style="text-align: right">메모리(MB)</th>
      <th style="text-align: right">CPU(%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td style="text-align: right">10.13612747</td>
      <td style="text-align: right">5.528432</td>
      <td style="text-align: right">2.827148438</td>
    </tr>
    <tr>
      <td>2</td>
      <td style="text-align: right">10.37597656</td>
      <td style="text-align: right">5.529192</td>
      <td style="text-align: right">1.83203125</td>
    </tr>
    <tr>
      <td>3</td>
      <td style="text-align: right">10.39290428</td>
      <td style="text-align: right">5.528472</td>
      <td style="text-align: right">2.174804688</td>
    </tr>
    <tr>
      <td>평균</td>
      <td style="text-align: right">10.30166944</td>
      <td style="text-align: right">5.528698667</td>
      <td style="text-align: right">2.277994792</td>
    </tr>
  </tbody>
</table>

<h3 id="35-binary-시나리오">3.5. <code class="highlighter-rouge">binary</code> 시나리오</h3>

<p>실험 목적과는 좀 거리가 있지만, 좀 더 지능적인 풀스캔 전략을 보여주기 위해 수록했습니다. 바이너리 검색에 대한 자세한 내용은 <a href="http://algo-visualizer.jasonpark.me/#path=search/binary_search/recursive">Algorithm Visualizer 프로젝트</a>를 참고해주세요.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span> <span class="c1">// scenario/binary.php
</span>
<span class="nv">$search</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>
<span class="nv">$startIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nv">$endIndex</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$users</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="nv">$endIndex</span> <span class="o">&gt;</span> <span class="nv">$startIndex</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$medianIndex</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$startIndex</span> <span class="o">+</span> <span class="nv">$endIndex</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nv">$search</span> <span class="o">&gt;</span> <span class="nv">$users</span><span class="p">[</span><span class="nv">$medianIndex</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$startIndex</span> <span class="o">=</span> <span class="nv">$medianIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">elseif</span> <span class="p">(</span><span class="nv">$search</span> <span class="o">&lt;</span> <span class="nv">$users</span><span class="p">[</span><span class="nv">$medianIndex</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$endIndex</span> <span class="o">=</span> <span class="nv">$medianIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$users</span><span class="p">[</span><span class="nv">$medianIndex</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">return</span> <span class="k">new</span> <span class="nx">\App\User</span><span class="p">;</span>
</code></pre>
</div>

<p>총 5회 실험하고, 처리시간 기준으로 아웃라이어 2개는 버렸습니다.</p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="err">GET /binary.php
</span></code></pre>
</div>

<table>
  <thead>
    <tr>
      <th>구분</th>
      <th style="text-align: right">처리시간(ms)</th>
      <th style="text-align: right">메모리(MB)</th>
      <th style="text-align: right">CPU(%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td style="text-align: right">7.062911987</td>
      <td style="text-align: right">5.528104</td>
      <td style="text-align: right">2.474121094</td>
    </tr>
    <tr>
      <td>2</td>
      <td style="text-align: right">2.383947372</td>
      <td style="text-align: right">5.52812</td>
      <td style="text-align: right">2.753417969</td>
    </tr>
    <tr>
      <td>3</td>
      <td style="text-align: right">1.770973206</td>
      <td style="text-align: right">5.528288</td>
      <td style="text-align: right">3.248535156</td>
    </tr>
    <tr>
      <td>평균</td>
      <td style="text-align: right">3.739277522</td>
      <td style="text-align: right">5.528170667</td>
      <td style="text-align: right">2.825358073</td>
    </tr>
  </tbody>
</table>

<h2 id="4-관찰-결과-및-시사점">4. 관찰 결과 및 시사점</h2>

<p>막연하게만 알던 내용을, 실험을 통해 검증하는 계기가 되었습니다. <code class="highlighter-rouge">@huhushow</code>님의 의견의 따라 로직을 수정하니 결론은 완전히 달라졌습니다.</p>

<ul>
  <li>어떤 방식을 사용하든 풀스캔의 대상이 될 레코드셋의 양을 줄이는 것은 성능 향상에 도움이 된다.</li>
  <li><del>테이블 조인은 메모리를 많이 사용하고, 속도도 느리다.</del></li>
</ul>

<p><del>데이터베이스 모델링할 때, 중복을 최소화하고, 데이터간 무결성을 유지하기 위해 정규화를 했습니다. 하지만 레코드 수가 많아지면 조인으로 인한 성능 낭비가 커지므로, <strong>조인이 잦은 테이블을 비정규화</strong>하여 약간의 중복을 허용하는 식으로 구성하는 것도 좋은 방법이란 생각이 들었습니다. 또는 조인할 때 <strong>참조되는 테이블을 애플리케이션의 배열이나 인-메모리 캐시</strong>에 올려두는 것도 생각해 볼 수 있겠네요.</del></p>

<h2 id="5-mysql-테스트">5. MySQL 테스트</h2>

<p>이상의 테스트를 MySQL에서 그대로 재연하고 결과를 측정해 보았습니다.</p>

<p>맥용 Docker에 <a href="https://hub.docker.com/_/mysql/"><code class="highlighter-rouge">mysql:5.7</code></a> 이미지를 이용했고, SequelPro를 클라이언트로 사용했습니다.</p>

<p>테스트에 사용한 쿼리는 아래와 같습니다. 테이블 스키마를 생성하고 데이터를 심는 쿼리는 소스코드의 <code class="highlighter-rouge">/sql</code> 폴더에서 찾을 수 있습니다. 역시 만 개의 <code class="highlighter-rouge">users</code> 레코드와 네 개의 <code class="highlighter-rouge">teams</code> 레코드를 만들었습니다. 애플리케이션이 아니므로 매 시나리오를 수행할 때마다 테스트 벡터가 달라지지는 않습니다.</p>

<div class="language-sql highlighter-rouge"><pre class="highlight"><code><span class="c1">-- #1 primary</span>
<span class="k">SELECT</span> <span class="o">*</span>
	<span class="k">FROM</span> <span class="nv">`users`</span>
	<span class="k">WHERE</span> <span class="nv">`id`</span> <span class="o">=</span> <span class="mi">99999</span><span class="p">;</span>

<span class="c1">-- #2 fullscan</span>
<span class="k">SELECT</span> <span class="o">*</span>
	<span class="k">FROM</span> <span class="nv">`users`</span>
	<span class="k">WHERE</span> <span class="nv">`name`</span> <span class="k">LIKE</span> <span class="s1">'%_99999'</span><span class="p">;</span>

<span class="c1">-- #3 indexed</span>
<span class="k">SELECT</span> <span class="o">*</span>
	<span class="k">FROM</span> <span class="nv">`users`</span>
	<span class="k">WHERE</span> <span class="nv">`team_id`</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>

<span class="c1">-- #4 join</span>
<span class="k">SELECT</span> <span class="o">*</span>
	<span class="k">FROM</span> <span class="nv">`users`</span> <span class="k">as</span> <span class="n">u</span><span class="p">,</span> <span class="nv">`teams`</span> <span class="k">as</span> <span class="n">t</span>
	<span class="k">WHERE</span> <span class="n">u</span><span class="p">.</span><span class="nv">`team_id`</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="nv">`id`</span>
		<span class="k">AND</span> <span class="n">t</span><span class="p">.</span><span class="nv">`name`</span> <span class="o">=</span> <span class="s1">'홍팀'</span>
		<span class="k">AND</span> <span class="n">u</span><span class="p">.</span><span class="nv">`name`</span> <span class="k">LIKE</span> <span class="s1">'%_99997'</span><span class="p">;</span>
</code></pre>
</div>

<p>동일하게 5회 실험하고, 처리시간 기준으로 아웃라이어 2개는 버렸습니다.</p>

<table>
  <thead>
    <tr>
      <th>SQL</th>
      <th>시나리오</th>
      <th style="text-align: right">3회 평균 처리 시간(ms)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>#1</td>
      <td><code class="highlighter-rouge">primary</code></td>
      <td style="text-align: right">2.233333333</td>
    </tr>
    <tr>
      <td>#2</td>
      <td><code class="highlighter-rouge">fullscan</code></td>
      <td style="text-align: right">46.06666667</td>
    </tr>
    <tr>
      <td>#3</td>
      <td><code class="highlighter-rouge">indexed</code></td>
      <td style="text-align: right">13.36666667</td>
    </tr>
    <tr>
      <td>#4</td>
      <td><code class="highlighter-rouge">join</code></td>
      <td style="text-align: right">35.16666667</td>
    </tr>
  </tbody>
</table>

<div class="spacer">• • •</div>

<p>스택오버플로에 올라온 <a href="http://stackoverflow.com/a/389824/7511247">‘mysql 5.0 indexes - Unique vs Non Unique’</a>라는 질답의 좌표를 남기며 마칩니다. 링크의 내용을 요약하면 성능은 <del>Primary &gt; Unique &gt; Index &gt; Non-indexed</del> Primary &gt; Unique &amp; Non-Unique-Index &gt; Non-indexed 순이란 이야기입니다.</p>

      </div>

      <footer class="box-tags">
        <span><i class="material-icons">label</i> Tags:</span>
        
          <a href="/tags#개발자">
            개발자
          </a>
          , 
        
          <a href="/tags#PHP">
            PHP
          </a>
          , 
        
          <a href="/tags#Database">
            Database
          </a>
          
        
      </footer>
    </article>

    <nav id="pagination">
      <ul class="pager">
        
        <li class="previous">
          <a href="/learn-n-think/style-changed/">
            <span aria-hidden="true">
              <i class="material-icons">navigate_before</i>
            </span>
            <span class="pager-title-sm">Older</span>
            <span class="pager-title">
              존칭형으로 블로그 쓰기
            </span>
          </a>
        </li>
        

        
        <li class="next disabled">
          <a href="#">
            <span>Newer</span>
            <span aria-hidden="true">
              <i class="material-icons">navigate_next</i>
            </span>
          </a>
        </li>
        
      </ul>
    </nav>

    <div class="comments" style="margin-bottom: 30px;">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//appkr.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

  </section>

  <aside id="sidebar" class="col-md-3">
    <section class="box" id="search">
  <div class="box-body">
    <form action="#">
      <div class="form-group">
        <input class="form-control input-lg" type="text" id="q" placeholder="Search...">
        <ul id="q-results"></ul>
      </div>
    </form>
  </div>
</section>

<section class="box" id="categories">
  <div class="box-header">
    <h3>Categories</h3>
  </div>

  <div class="box-body">
    <ul>
      <li>
        <a href="/categories#around-me">
          Around Me
          <span class="badge">25</span>
        </a>
      </li>
      <li>
        <a href="/categories#learn-n-think">
          Learn & Think
          <span class="badge">71</span>
        </a>
      </li>
      <li>
        <a href="/categories#work-n-play">
          Work & Play
          <span class="badge">52</span>
        </a>
      </li>
      <li>
        <a href="/categories#imported">
          Imported
          <span class="badge">3</span>
        </a>
      </li>
      <li>
        <a href="/categories#uncategorized">
          Uncategorized
          <span class="badge">2</span>
        </a>
      </li>
    </ul>
  </div>
</section>

<section class="box" id="tags">
  <div class="box-header">
    <h3>Tags</h3>
  </div>

  <div class="box-body tags">
    <div class="tags">
    
    
    <span style="font-size: 98%">
      <a href="/tags#3d">
        3d
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#API">
        API
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#Apache Thrift">
        Apache Thrift
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#CSS">
        CSS
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Database">
        Database
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Docker">
        Docker
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Dotfiles">
        Dotfiles
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Facebook">
        Facebook
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Generator">
        Generator
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#Git">
        Git
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#JWT">
        JWT
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Javascript">
        Javascript
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#Jekyll">
        Jekyll
      </a>
    </span>
    
    <span style="font-size: 126%">
      <a href="/tags#Laravel">
        Laravel
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Lumen">
        Lumen
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#OS X">
        OS X
      </a>
    </span>
    
    <span style="font-size: 134%">
      <a href="/tags#PHP">
        PHP
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#RESTful">
        RESTful
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#RPC">
        RPC
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Ruby">
        Ruby
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Streaming">
        Streaming
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#URL Rewriting">
        URL Rewriting
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#Web">
        Web
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#Websocket">
        Websocket
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#adobe">
        adobe
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#amazon">
        amazon
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#amd">
        amd
      </a>
    </span>
    
    <span style="font-size: 142%">
      <a href="/tags#android">
        android
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#apple">
        apple
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#ar">
        ar
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#architecture">
        architecture
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#arm">
        arm
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#bada">
        bada
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#bluetooth">
        bluetooth
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#bus">
        bus
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#cdp">
        cdp
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#chrome">
        chrome
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#cloud">
        cloud
      </a>
    </span>
    
    <span style="font-size: 114%">
      <a href="/tags#codec">
        codec
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#connectivity">
        connectivity
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#cpu">
        cpu
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#ebook">
        ebook
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#emulator">
        emulator
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#flash">
        flash
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#framework">
        framework
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#gms">
        gms
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#google">
        google
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#gtd">
        gtd
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#intel">
        intel
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#ios">
        ios
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#iphone">
        iphone
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#java">
        java
      </a>
    </span>
    
    <span style="font-size: 106%">
      <a href="/tags#lbs">
        lbs
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#limo">
        limo
      </a>
    </span>
    
    <span style="font-size: 106%">
      <a href="/tags#linux">
        linux
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#mcu">
        mcu
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#memory">
        memory
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#microsoft">
        microsoft
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#mobile">
        mobile
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#opencore">
        opencore
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#opengl">
        opengl
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#opengles">
        opengles
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#opensource">
        opensource
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#openvg">
        openvg
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#platform">
        platform
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#pnd">
        pnd
      </a>
    </span>
    
    <span style="font-size: 106%">
      <a href="/tags#presentation">
        presentation
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#pvcore">
        pvcore
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#se">
        se
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#sns">
        sns
      </a>
    </span>
    
    <span style="font-size: 114%">
      <a href="/tags#soc">
        soc
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#symbian">
        symbian
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#tech">
        tech
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#ted">
        ted
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#tedx">
        tedx
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#windowsmobile">
        windowsmobile
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#wss">
        wss
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#x86">
        x86
      </a>
    </span>
    
    <span style="font-size: 110%">
      <a href="/tags#史記">
        史記
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#孟子">
        孟子
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#孫子兵法">
        孫子兵法
      </a>
    </span>
    
    <span style="font-size: 238%">
      <a href="/tags#개발자">
        개발자
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#경력개발">
        경력개발
      </a>
    </span>
    
    <span style="font-size: 138%">
      <a href="/tags#기업철학">
        기업철학
      </a>
    </span>
    
    <span style="font-size: 174%">
      <a href="/tags#기획자">
        기획자
      </a>
    </span>
    
    <span style="font-size: 146%">
      <a href="/tags#리더쉽">
        리더쉽
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#생산성">
        생산성
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#소프트웨어공학">
        소프트웨어공학
      </a>
    </span>
    
    <span style="font-size: 210%">
      <a href="/tags#인생철학">
        인생철학
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#자녀교육">
        자녀교육
      </a>
    </span>
    
    <span style="font-size: 102%">
      <a href="/tags#전략">
        전략
      </a>
    </span>
    
    <span style="font-size: 146%">
      <a href="/tags#조직관리">
        조직관리
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#조직문화">
        조직문화
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#조직행동">
        조직행동
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#철학">
        철학
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#취미">
        취미
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#특기">
        특기
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#프로젝트관리">
        프로젝트관리
      </a>
    </span>
    
    </div>
  </div>
</section>

<section class="box" id="recent-posts">
  <div class="box-header">
    <h3>Recent Posts</h3>
  </div>

  <div class="box-body">
    <ul>
      
      <li>
        <h4>
          <small class="box-meta"><i class="material-icons">today</i> 2017-02-11</small>
          <a href="/work-n-play/db-query-performance-illustration-using-array/">데이터베이스 쿼리 성능 차이를 이해하기 위한 실험</a>
        </h4>
      </li>
      
      <li>
        <h4>
          <small class="box-meta"><i class="material-icons">today</i> 2017-02-11</small>
          <a href="/learn-n-think/style-changed/">존칭형으로 블로그 쓰기</a>
        </h4>
      </li>
      
      <li>
        <h4>
          <small class="box-meta"><i class="material-icons">today</i> 2017-01-15</small>
          <a href="/work-n-play/understanding-php-exception-class-part-2/">PHP의 예외 클래스 이해하기 2부</a>
        </h4>
      </li>
      
    </ul>
  </div>
</section>

<section class="box" id="recent-comments">
  <div class="box-header">
    <h3>Recent Comments</h3>
  </div>

  <div class="box-body dsq-widget">
    <script type="text/javascript" src="http://appkr.disqus.com/recent_comments_widget.js?num_items=5&hide_mods=0&hide_avatars=0&avatar_size=32&excerpt_length=100"></script>
  </div>
</section>

<section class="box" id="recent-feeds">
  <div class="box-header">
    <h3>Facebook Posts</h3>
  </div>

  <div class="box-body">
    <ul id="facebook-feed">
      <script id="facebook-feed-template" type="text/x-template">
        <li>
          <span class="facebook-message">
            { message }
          </span>
          ·
          <span class="facebook-meta">
            <a href="https://www.facebook.com/juwonkimatmedotcom/posts/{ id }">
              { created_time }
            </a>
          </span>
        </li>
      </script>
    </ul>
  </div>
</section>

  </aside>
</div>


  <footer id="site-footer">
  <h4>
    <a href="/">
      Appkr.memo(new Life)
    </a>
  </h4>
  <p>
    &copy; 2008~2017 •
    Built with <a href="http://jekyllrb.com/">Jekyll</a> •
    Hosted by <a href="https://pages.github.com/">Github</a> •
    <a href="/feed.xml">Rss</a>
  </p>
</footer>


  <div id="back-to-top">
    <a href="#" title="Scroll to Top">
      <i class="material-icons">keyboard_arrow_up</i>
    </a>
  </div>

  <script src="/scripts/main.min.js"></script>
</body>

</html>
